(function(x){var w=null;var u=function(a){var c=arguments,d=true,b=1;a=a.replace(/%s/g,function(){var e=c[b++];if(typeof e==="undefined"){d=false;return""}return e});return d?a:""};var D=function(c,a,b,d){var e="";x.each(c,function(g,f){if(f[a]===d){e=f[b];return false}return true});return e};var y=function(b,a){var c=-1;x.each(b,function(e,d){if(d.field===a){c=e;return false}return true});return c};var v=function(i){var e,f,g,c=0,b=[];for(e=0;e<i[0].length;e++){c+=i[0][e].colspan||1}for(e=0;e<i.length;e++){b[e]=[];for(f=0;f<c;f++){b[e][f]=false}}for(e=0;e<i.length;e++){for(f=0;f<i[e].length;f++){var a=i[e][f],h=a.rowspan||1,j=a.colspan||1,d=x.inArray(false,b[e]);if(j===1){a.fieldIndex=d;if(typeof a.field==="undefined"){a.field=d}}for(g=0;g<h;g++){b[e+g][d]=true}for(g=0;g<j;g++){b[e][d+g]=true}}}};var F=function(){if(w===null){var b=x("<p/>").addClass("fixed-table-scroll-inner"),a=x("<div/>").addClass("fixed-table-scroll-outer"),c,d;a.append(b);x("body").append(a);c=b[0].offsetWidth;a.css("overflow","scroll");d=b[0].offsetWidth;if(c===d){d=a[0].clientWidth}a.remove();w=c-d}return w};var q=function(e,c,d,f){var b=c;if(typeof c==="string"){var a=c.split(".");if(a.length>1){b=window;x.each(a,function(h,g){b=b[g]})}else{b=window[c]}}if(typeof b==="object"){return b}if(typeof b==="function"){return b.apply(e,d||[])}if(!b&&typeof c==="string"&&u.apply(this,[c].concat(d))){return u.apply(this,[c].concat(d))}return f};var B=function(f,g,b){var a=Object.getOwnPropertyNames(f),d=Object.getOwnPropertyNames(g),c="";if(b){if(a.length!==d.length){return false}}for(var e=0;e<a.length;e++){c=a[e];if(x.inArray(c,d)>-1){if(f[c]!==g[c]){return false}}}return true};var r=function(a){if(typeof a==="string"){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;")}return a};var A=function(a){for(var c in a){var b=c.split(/(?=[A-Z])/).join("-").toLowerCase();if(b!==c){a[b]=a[c];delete a[c]}}return a};var s=function(d,a,e){var c=d;if(typeof a!=="string"||d.hasOwnProperty(a)){return e?r(d[a]):d[a]}var f=a.split(".");for(var b in f){if(f.hasOwnProperty(b)){c=c&&c[f[b]]}}return e?r(c):c};var E=function(){return !!(navigator.userAgent.indexOf("MSIE ")>0||!!navigator.userAgent.match(/Trident.*rv\:11\./))};var z=function(){if(!Object.keys){Object.keys=(function(){var b=Object.prototype.hasOwnProperty,a=!({toString:null}).propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(f){if(typeof f!=="object"&&(typeof f!=="function"||f===null)){throw new TypeError("Object.keys called on non-object")}var h=[],e,g;for(e in f){if(b.call(f,e)){h.push(e)}}if(a){for(g=0;g<d;g++){if(b.call(f,c[g])){h.push(c[g])}}}return h}}())}};var C=function(a,b){this.options=b;this.$el=x(a);this.$el_=this.$el.clone();this.timeoutId_=0;this.timeoutFooter_=0;this.init()};C.DEFAULTS={classes:"table table-hover",sortClass:undefined,locale:undefined,height:undefined,undefinedText:"-",sortName:undefined,sortOrder:"asc",sortStable:false,striped:false,columns:[[]],data:[],totalField:"total",dataField:"rows",method:"get",url:undefined,ajax:undefined,cache:true,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(a){return a},queryParamsType:"limit",responseHandler:function(a){return a},pagination:false,onlyInfoPagination:false,paginationLoop:true,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:false,searchOnEnterKey:false,strictSearch:false,searchAlign:"right",selectItemName:"btSelectItem",showHeader:true,showFooter:false,showColumns:false,showPaginationSwitch:false,showRefresh:false,showToggle:false,buttonsAlign:"right",smartDisplay:true,escape:false,minimumCountColumns:1,idField:undefined,uniqueId:undefined,cardView:false,detailView:false,detailFormatter:function(b,a){return""},trimOnSearch:true,clickToSelect:false,singleSelect:false,toolbar:undefined,toolbarAlign:"left",checkboxHeader:true,sortable:true,silentSort:true,maintainSelected:false,searchTimeOut:500,searchText:"",iconSize:undefined,buttonsClass:"default",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},customSearch:x.noop,customSort:x.noop,rowStyle:function(a,b){return{}},rowAttributes:function(a,b){return{}},footerStyle:function(a,b){return{}},onAll:function(a,b){return false},onClickCell:function(b,c,a,d){return false},onDblClickCell:function(b,c,a,d){return false},onClickRow:function(a,b){return false},onDblClickRow:function(a,b){return false},onSort:function(a,b){return false},onCheck:function(a){return false},onUncheck:function(a){return false},onCheckAll:function(a){return false},onUncheckAll:function(a){return false},onCheckSome:function(a){return false},onUncheckSome:function(a){return false},onLoadSuccess:function(a){return false},onLoadError:function(a){return false},onColumnSwitch:function(a,b){return false},onPageChange:function(a,b){return false},onSearch:function(a){return false},onToggle:function(a){return false},onPreBody:function(a){return false},onPostBody:function(){return false},onPostHeader:function(){return false},onExpandRow:function(c,a,b){return false},onCollapseRow:function(b,a){return false},onRefreshOptions:function(a){return false},onRefresh:function(a){return false},onResetView:function(){return false}};C.LOCALES={};C.LOCALES["en-US"]=C.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(a){return u("%s rows per page",a)},formatShowingRows:function(a,c,b){return u("Showing %s to %s of %s rows",a,c,b)},formatDetailPagination:function(a){return u("Showing %s rows",a)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}};x.extend(C.DEFAULTS,C.LOCALES["en-US"]);C.COLUMN_DEFAULTS={radio:false,checkbox:false,checkboxEnabled:true,field:undefined,title:undefined,titleTooltip:undefined,"class":undefined,align:undefined,halign:undefined,falign:undefined,valign:undefined,width:undefined,sortable:false,order:"asc",visible:true,switchable:true,clickToSelect:true,formatter:undefined,footerFormatter:undefined,events:undefined,sorter:undefined,sortName:undefined,cellStyle:undefined,searchable:true,searchFormatter:true,cardVisible:true,escape:false};C.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh"};C.prototype.init=function(){this.initLocale();this.initContainer();this.initTable();this.initHeader();this.initData();this.initHiddenRows();this.initFooter();this.initToolbar();this.initPagination();this.initBody();this.initSearchText();this.initServer()};C.prototype.initLocale=function(){if(this.options.locale){var a=this.options.locale.split(/-|_/);a[0].toLowerCase();if(a[1]){a[1].toUpperCase()}if(x.fn.bootstrapTable.locales[this.options.locale]){x.extend(this.options,x.fn.bootstrapTable.locales[this.options.locale])}else{if(x.fn.bootstrapTable.locales[a.join("-")]){x.extend(this.options,x.fn.bootstrapTable.locales[a.join("-")])}else{if(x.fn.bootstrapTable.locales[a[0]]){x.extend(this.options,x.fn.bootstrapTable.locales[a[0]])}}}}};C.prototype.initContainer=function(){this.$container=x(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',this.options.paginationVAlign==="bottom"||this.options.paginationVAlign==="both"?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join(""));this.$container.insertAfter(this.$el);this.$tableContainer=this.$container.find(".fixed-table-container");this.$tableHeader=this.$container.find(".fixed-table-header");this.$tableBody=this.$container.find(".fixed-table-body");this.$tableLoading=this.$container.find(".fixed-table-loading");this.$tableFooter=this.$container.find(".fixed-table-footer");this.$toolbar=this.$container.find(".fixed-table-toolbar");this.$pagination=this.$container.find(".fixed-table-pagination");this.$tableBody.append(this.$el);this.$container.after('<div class="clearfix"></div>');this.$el.addClass(this.options.classes);if(this.options.striped){this.$el.addClass("table-striped")}if(x.inArray("table-no-bordered",this.options.classes.split(" "))!==-1){this.$tableContainer.addClass("table-no-bordered")}};C.prototype.initTable=function(){var b=this,c=[],a=[];this.$header=this.$el.find(">thead");if(!this.$header.length){this.$header=x("<thead></thead>").appendTo(this.$el)}this.$header.find("tr").each(function(){var e=[];x(this).find("th").each(function(){if(typeof x(this).data("field")!=="undefined"){x(this).data("field",x(this).data("field")+"")}e.push(x.extend({},{title:x(this).html(),"class":x(this).attr("class"),titleTooltip:x(this).attr("title"),rowspan:x(this).attr("rowspan")?+x(this).attr("rowspan"):undefined,colspan:x(this).attr("colspan")?+x(this).attr("colspan"):undefined},x(this).data()))});c.push(e)});if(!x.isArray(this.options.columns[0])){this.options.columns=[this.options.columns]}this.options.columns=x.extend(true,[],c,this.options.columns);this.columns=[];v(this.options.columns);x.each(this.options.columns,function(e,f){x.each(f,function(h,g){g=x.extend({},C.COLUMN_DEFAULTS,g);if(typeof g.fieldIndex!=="undefined"){b.columns[g.fieldIndex]=g}b.options.columns[e][h]=g})});if(this.options.data.length){return}var d=[];this.$el.find(">tbody>tr").each(function(e){var f={};f._id=x(this).attr("id");f._class=x(this).attr("class");f._data=A(x(this).data());x(this).find(">td").each(function(m){var i=x(this),g=+i.attr("colspan")||1,l=+i.attr("rowspan")||1,k,h;for(;d[e]&&d[e][m];m++){}for(k=m;k<m+g;k++){for(h=e;h<e+l;h++){if(!d[h]){d[h]=[]}d[h][k]=true}}var j=b.columns[m].field;f[j]=x(this).html();f["_"+j+"_id"]=x(this).attr("id");f["_"+j+"_class"]=x(this).attr("class");f["_"+j+"_rowspan"]=x(this).attr("rowspan");f["_"+j+"_colspan"]=x(this).attr("colspan");f["_"+j+"_title"]=x(this).attr("title");f["_"+j+"_data"]=A(x(this).data())});a.push(f)});this.options.data=a;if(a.length){this.fromHtml=true}};C.prototype.initHeader=function(){var a=this,c={},b=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]};x.each(this.options.columns,function(d,e){b.push("<tr>");if(d===0&&!a.options.cardView&&a.options.detailView){b.push(u('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',a.options.columns.length))}x.each(e,function(i,j){var o="",h="",f="",n="",g=u(' class="%s"',j["class"]),k=a.options.sortOrder||j.order,l="px",m=j.width;if(j.width!==undefined&&(!a.options.cardView)){if(typeof j.width==="string"){if(j.width.indexOf("%")!==-1){l="%"}}}if(j.width&&typeof j.width==="string"){m=j.width.replace("%","").replace("px","")}h=u("text-align: %s; ",j.halign?j.halign:j.align);f=u("text-align: %s; ",j.align);n=u("vertical-align: %s; ",j.valign);n+=u("width: %s; ",(j.checkbox||j.radio)&&!m?"36px":(m?m+l:undefined));if(typeof j.fieldIndex!=="undefined"){a.header.fields[j.fieldIndex]=j.field;a.header.styles[j.fieldIndex]=f+n;a.header.classes[j.fieldIndex]=g;a.header.formatters[j.fieldIndex]=j.formatter;a.header.events[j.fieldIndex]=j.events;a.header.sorters[j.fieldIndex]=j.sorter;a.header.sortNames[j.fieldIndex]=j.sortName;a.header.cellStyles[j.fieldIndex]=j.cellStyle;a.header.searchables[j.fieldIndex]=j.searchable;if(!j.visible){return}if(a.options.cardView&&(!j.cardVisible)){return}c[j.field]=j}b.push("<th"+u(' title="%s"',j.titleTooltip),j.checkbox||j.radio?u(' class="bs-checkbox %s"',j["class"]||""):g,u(' style="%s"',h+n),u(' rowspan="%s"',j.rowspan),u(' colspan="%s"',j.colspan),u(' data-field="%s"',j.field),">");b.push(u('<div class="th-inner %s">',a.options.sortable&&j.sortable?"sortable both":""));o=a.options.escape?r(j.title):j.title;if(j.checkbox){if(!a.options.singleSelect&&a.options.checkboxHeader){o='<input name="btSelectAll" type="checkbox" />'}a.header.stateField=j.field}if(j.radio){o="";a.header.stateField=j.field;a.options.singleSelect=true}b.push(o);b.push("</div>");b.push('<div class="fht-cell"></div>');b.push("</div>");b.push("</th>")});b.push("</tr>")});this.$header.html(b.join(""));this.$header.find("th[data-field]").each(function(d){x(this).data(c[x(this).data("field")])});this.$container.off("click",".th-inner").on("click",".th-inner",function(e){var d=x(this);if(a.options.detailView){if(d.closest(".bootstrap-table")[0]!==a.$container[0]){return false}}if(a.options.sortable&&d.parent().data().sortable){a.onSort(e)}});this.$header.children().children().off("keypress").on("keypress",function(d){if(a.options.sortable&&x(this).data().sortable){var e=d.keyCode||d.which;if(e==13){a.onSort(d)}}});x(window).off("resize.bootstrap-table");if(!this.options.showHeader||this.options.cardView){this.$header.hide();this.$tableHeader.hide();this.$tableLoading.css("top",0)}else{this.$header.show();this.$tableHeader.show();this.$tableLoading.css("top",this.$header.outerHeight()+1);this.getCaret();x(window).on("resize.bootstrap-table",x.proxy(this.resetWidth,this))}this.$selectAll=this.$header.find('[name="btSelectAll"]');this.$selectAll.off("click").on("click",function(){var d=x(this).prop("checked");a[d?"checkAll":"uncheckAll"]();a.updateSelected()})};C.prototype.initFooter=function(){if(!this.options.showFooter||this.options.cardView){this.$tableFooter.hide()}else{this.$tableFooter.show()}};C.prototype.initData=function(a,b){if(b==="append"){this.data=this.data.concat(a)}else{if(b==="prepend"){this.data=[].concat(a).concat(this.data)}else{this.data=a||this.options.data}}if(b==="append"){this.options.data=this.options.data.concat(a)}else{if(b==="prepend"){this.options.data=[].concat(a).concat(this.options.data)}else{this.options.data=this.data}}if(this.options.sidePagination==="server"){return}this.initSort()};C.prototype.initSort=function(){var b=this,c=this.options.sortName,e=this.options.sortOrder==="desc"?-1:1,d=x.inArray(this.options.sortName,this.header.fields),a=0;if(this.options.customSort!==x.noop){this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]);return}if(d!==-1){if(this.options.sortStable){x.each(this.data,function(g,f){if(!f.hasOwnProperty("_position")){f._position=g}})}this.data.sort(function(g,h){if(b.header.sortNames[d]){c=b.header.sortNames[d]}var j=s(g,c,b.options.escape),i=s(h,c,b.options.escape),f=q(b.header,b.header.sorters[d],[j,i]);if(f!==undefined){return e*f}if(j===undefined||j===null){j=""}if(i===undefined||i===null){i=""}if(b.options.sortStable&&j===i){j=g._position;i=h._position}if(x.isNumeric(j)&&x.isNumeric(i)){j=parseFloat(j);i=parseFloat(i);if(j<i){return e*-1}return e}if(j===i){return 0}if(typeof j!=="string"){j=j.toString()}if(j.localeCompare(i)===-1){return e*-1}return e});if(this.options.sortClass!==undefined){clearTimeout(a);a=setTimeout(function(){b.$el.removeClass(b.options.sortClass);var f=b.$header.find(u('[data-field="%s"]',b.options.sortName).index()+1);b.$el.find(u("tr td:nth-child(%s)",f)).addClass(b.options.sortClass)},250)}}};C.prototype.onSort=function(c){var a=c.type==="keypress"?x(c.currentTarget):x(c.currentTarget).parent(),b=this.$header.find("th").eq(a.index());this.$header.add(this.$header_).find("span.order").remove();if(this.options.sortName===a.data("field")){this.options.sortOrder=this.options.sortOrder==="asc"?"desc":"asc"}else{this.options.sortName=a.data("field");this.options.sortOrder=a.data("order")==="asc"?"desc":"asc"}this.trigger("sort",this.options.sortName,this.options.sortOrder);a.add(b).data("order",this.options.sortOrder);this.getCaret();if(this.options.sidePagination==="server"){this.initServer(this.options.silentSort);return}this.initSort();this.initBody()};C.prototype.initToolbar=function(){var c=this,d=[],a=0,e,b,f=0;if(this.$toolbar.find(".bs-bars").children().length){x("body").append(x(this.options.toolbar))}this.$toolbar.html("");if(typeof this.options.toolbar==="string"||typeof this.options.toolbar==="object"){x(u('<div class="bs-bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(x(this.options.toolbar))}d=[u('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)];if(typeof this.options.icons==="string"){this.options.icons=q(null,this.options.icons)}if(this.options.showPaginationSwitch){d.push(u('<button class="btn'+u(" btn-%s",this.options.buttonsClass)+u(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" aria-label="pagination Switch" title="%s">',this.options.formatPaginationSwitch()),u('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>")}if(this.options.showRefresh){d.push(u('<button class="btn'+u(" btn-%s",this.options.buttonsClass)+u(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" aria-label="refresh" title="%s">',this.options.formatRefresh()),u('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>")}if(this.options.showToggle){d.push(u('<button class="btn'+u(" btn-%s",this.options.buttonsClass)+u(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" aria-label="toggle" title="%s">',this.options.formatToggle()),u('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>")}if(this.options.showColumns){d.push(u('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" aria-label="columns" class="btn'+u(" btn-%s",this.options.buttonsClass)+u(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',u('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">');x.each(this.columns,function(h,g){if(g.radio||g.checkbox){return}if(c.options.cardView&&!g.cardVisible){return}var i=g.visible?' checked="checked"':"";if(g.switchable){d.push(u('<li role="menuitem"><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',g.field,h,i,g.title));f++}});d.push("</ul>","</div>")}d.push("</div>");if(this.showToolbar||d.length>2){this.$toolbar.append(d.join(""))}if(this.options.showPaginationSwitch){this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",x.proxy(this.togglePagination,this))}if(this.options.showRefresh){this.$toolbar.find('button[name="refresh"]').off("click").on("click",x.proxy(this.refresh,this))}if(this.options.showToggle){this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){c.toggleView()})}if(this.options.showColumns){e=this.$toolbar.find(".keep-open");if(f<=this.options.minimumCountColumns){e.find("input").prop("disabled",true)}e.find("li").off("click").on("click",function(g){g.stopImmediatePropagation()});e.find("input").off("click").on("click",function(){var g=x(this);c.toggleColumn(x(this).val(),g.prop("checked"),false);c.trigger("column-switch",x(this).data("field"),g.prop("checked"))})}if(this.options.search){d=[];d.push('<div class="pull-'+this.options.searchAlign+' search">',u('<input class="form-control'+u(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>");this.$toolbar.append(d.join(""));b=this.$toolbar.find(".search input");b.off("keyup drop blur").on("keyup drop blur",function(g){if(c.options.searchOnEnterKey&&g.keyCode!==13){return}if(x.inArray(g.keyCode,[37,38,39,40])>-1){return}clearTimeout(a);a=setTimeout(function(){c.onSearch(g)},c.options.searchTimeOut)});if(E()){b.off("mouseup").on("mouseup",function(g){clearTimeout(a);a=setTimeout(function(){c.onSearch(g)},c.options.searchTimeOut)})}}};C.prototype.onSearch=function(b){var a=x.trim(x(b.currentTarget).val());if(this.options.trimOnSearch&&x(b.currentTarget).val()!==a){x(b.currentTarget).val(a)}if(a===this.searchText){return}this.searchText=a;this.options.searchText=a;this.options.pageNumber=1;this.initSearch();this.updatePagination();this.trigger("search",a)};C.prototype.initSearch=function(){var b=this;if(this.options.sidePagination!=="server"){if(this.options.customSearch!==x.noop){this.options.customSearch.apply(this,[this.searchText]);return}var c=this.searchText&&(this.options.escape?r(this.searchText):this.searchText).toLowerCase();var a=x.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=a?x.grep(this.options.data,function(d,e){for(var f in a){if(x.isArray(a[f])&&x.inArray(d[f],a[f])===-1||!x.isArray(a[f])&&d[f]!==a[f]){return false}}return true}):this.options.data;this.data=c?x.grep(this.data,function(j,f){for(var h=0;h<b.header.fields.length;h++){if(!b.header.searchables[h]){continue}var g=x.isNumeric(b.header.fields[h])?parseInt(b.header.fields[h],10):b.header.fields[h];var k=b.columns[y(b.columns,g)];var e;if(typeof g==="string"){e=j;var d=g.split(".");for(var i=0;i<d.length;i++){e=e[d[i]]}if(k&&k.searchFormatter){e=q(k,b.header.formatters[h],[e,j,f],e)}}else{e=j[g]}if(typeof e==="string"||typeof e==="number"){if(b.options.strictSearch){if((e+"").toLowerCase()===c){return true}}else{if((e+"").toLowerCase().indexOf(c)!==-1){return true}}}}return false}):this.data}};C.prototype.initPagination=function(){if(!this.options.pagination){this.$pagination.hide();return}else{this.$pagination.show()}var j=this,k=[],g=false,m,d,b,l,o,n,a,f,H,p=this.getData(),c=this.options.pageList;if(this.options.sidePagination!=="server"){this.options.totalRows=p.length}this.totalPages=0;if(this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows()){this.options.pageSize=this.options.totalRows;g=true}else{if(this.options.pageSize===this.options.totalRows){var h=typeof this.options.pageList==="string"?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;if(x.inArray(this.options.formatAllRows().toLowerCase(),h)>-1){g=true}}}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1;this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages){this.options.pageNumber=this.totalPages}this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1;this.pageTo=this.options.pageNumber*this.options.pageSize;if(this.pageTo>this.options.totalRows){this.pageTo=this.options.totalRows}k.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>");if(!this.options.onlyInfoPagination){k.push('<span class="page-list">');var e=[u('<span class="btn-group %s">',this.options.paginationVAlign==="top"||this.options.paginationVAlign==="both"?"dropdown":"dropup"),'<button type="button" class="btn'+u(" btn-%s",this.options.buttonsClass)+u(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',g?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'];if(typeof this.options.pageList==="string"){var i=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");c=[];x.each(i,function(J,G){c.push(G.toUpperCase()===j.options.formatAllRows().toUpperCase()?j.options.formatAllRows():+G)})}x.each(c,function(L,K){if(!j.options.smartDisplay||L===0||c[L-1]<j.options.totalRows){var G;if(g){G=K===j.options.formatAllRows()?' class="active"':""}else{G=K===j.options.pageSize?' class="active"':""}e.push(u('<li role="menuitem"%s><a href="#">%s</a></li>',G,K))}});e.push("</ul></span>");k.push(this.options.formatRecordsPerPage(e.join("")));k.push("</span>");k.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+u(" pagination-%s",this.options.iconSize)+'">','<li class="page-pre"><a href="#">'+this.options.paginationPreText+"</a></li>");if(this.totalPages<5){d=1;b=this.totalPages}else{d=this.options.pageNumber-2;b=d+4;if(d<1){d=1;b=5}if(b>this.totalPages){b=this.totalPages;d=b-4}}if(this.totalPages>=6){if(this.options.pageNumber>=3){k.push('<li class="page-first'+(1===this.options.pageNumber?" active":"")+'">','<a href="#">',1,"</a>","</li>");d++}if(this.options.pageNumber>=4){if(this.options.pageNumber==4||this.totalPages==6||this.totalPages==7){d--}else{k.push('<li class="page-first-separator disabled">','<a href="#">...</a>',"</li>")}b--}}if(this.totalPages>=7){if(this.options.pageNumber>=(this.totalPages-2)){d--}}if(this.totalPages==6){if(this.options.pageNumber>=(this.totalPages-2)){b++}}else{if(this.totalPages>=7){if(this.totalPages==7||this.options.pageNumber>=(this.totalPages-3)){b++}}}for(m=d;m<=b;m++){k.push('<li class="page-number'+(m===this.options.pageNumber?" active":"")+'">','<a href="#">',m,"</a>","</li>")}if(this.totalPages>=8){if(this.options.pageNumber<=(this.totalPages-4)){k.push('<li class="page-last-separator disabled">','<a href="#">...</a>',"</li>")}}if(this.totalPages>=6){if(this.options.pageNumber<=(this.totalPages-3)){k.push('<li class="page-last'+(this.totalPages===this.options.pageNumber?" active":"")+'">','<a href="#">',this.totalPages,"</a>","</li>")}}k.push('<li class="page-next"><a href="#">'+this.options.paginationNextText+"</a></li>","</ul>","</div>")}this.$pagination.html(k.join(""));if(!this.options.onlyInfoPagination){l=this.$pagination.find(".page-list a");o=this.$pagination.find(".page-first");n=this.$pagination.find(".page-pre");a=this.$pagination.find(".page-next");f=this.$pagination.find(".page-last");H=this.$pagination.find(".page-number");if(this.options.smartDisplay){if(this.totalPages<=1){this.$pagination.find("div.pagination").hide()}if(c.length<2||this.options.totalRows<=c[0]){this.$pagination.find("span.page-list").hide()}this.$pagination[this.getData().length?"show":"hide"]()}if(!this.options.paginationLoop){if(this.options.pageNumber===1){n.addClass("disabled")}if(this.options.pageNumber===this.totalPages){a.addClass("disabled")}}if(g){this.options.pageSize=this.options.formatAllRows()}l.off("click").on("click",x.proxy(this.onPageListChange,this));o.off("click").on("click",x.proxy(this.onPageFirst,this));n.off("click").on("click",x.proxy(this.onPagePre,this));a.off("click").on("click",x.proxy(this.onPageNext,this));f.off("click").on("click",x.proxy(this.onPageLast,this));H.off("click").on("click",x.proxy(this.onPageNumber,this))}};C.prototype.updatePagination=function(a){if(a&&x(a.currentTarget).hasClass("disabled")){return}if(!this.options.maintainSelected){this.resetRows()}this.initPagination();if(this.options.sidePagination==="server"){this.initServer()}else{this.initBody()}this.trigger("page-change",this.options.pageNumber,this.options.pageSize)};C.prototype.onPageListChange=function(b){var a=x(b.currentTarget);a.parent().addClass("active").siblings().removeClass("active");this.options.pageSize=a.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+a.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(b);return false};C.prototype.onPageFirst=function(a){this.options.pageNumber=1;this.updatePagination(a);return false};C.prototype.onPagePre=function(a){if((this.options.pageNumber-1)===0){this.options.pageNumber=this.options.totalPages}else{this.options.pageNumber--}this.updatePagination(a);return false};C.prototype.onPageNext=function(a){if((this.options.pageNumber+1)>this.options.totalPages){this.options.pageNumber=1}else{this.options.pageNumber++}this.updatePagination(a);return false};C.prototype.onPageLast=function(a){this.options.pageNumber=this.totalPages;this.updatePagination(a);return false};C.prototype.onPageNumber=function(a){if(this.options.pageNumber===+x(a.currentTarget).text()){return}this.options.pageNumber=+x(a.currentTarget).text();this.updatePagination(a);return false};C.prototype.initRow=function(c,h,i,k){var f=this,d,g=[],b={},a=[],l="",j={},e=[];if(x.inArray(c,this.hiddenRows)>-1){return}b=q(this.options,this.options.rowStyle,[c,h],b);if(b&&b.css){for(d in b.css){a.push(d+": "+b.css[d])}}j=q(this.options,this.options.rowAttributes,[c,h],j);if(j){for(d in j){e.push(u('%s="%s"',d,r(j[d])))}}if(c._data&&!x.isEmptyObject(c._data)){x.each(c._data,function(m,n){if(m==="index"){return}l+=u(' data-%s="%s"',m,n)})}g.push("<tr",u(" %s",e.join(" ")),u(' id="%s"',x.isArray(c)?undefined:c._id),u(' class="%s"',b.classes||(x.isArray(c)?undefined:c._class)),u(' data-index="%s"',h),u(' data-uniqueid="%s"',c[this.options.uniqueId]),u("%s",l),">");if(this.options.cardView){g.push(u('<td colspan="%s"><div class="card-views">',this.header.fields.length))}if(!this.options.cardView&&this.options.detailView){g.push("<td>",'<a class="detail-icon" href="#">',u('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>")}x.each(this.header.fields,function(aa,W){var S="",X=s(c,W,f.options.escape),V="",Y="",m={},p="",Z=f.header.classes[aa],ac="",T="",o="",ab="",ad=f.columns[aa];if(f.fromHtml&&typeof X==="undefined"){return}if(!ad.visible){return}if(f.options.cardView&&(!ad.cardVisible)){return}if(ad.escape){X=r(X)}b=u('style="%s"',a.concat(f.header.styles[aa]).join("; "));if(c["_"+W+"_id"]){p=u(' id="%s"',c["_"+W+"_id"])}if(c["_"+W+"_class"]){Z=u(' class="%s"',c["_"+W+"_class"])}if(c["_"+W+"_rowspan"]){T=u(' rowspan="%s"',c["_"+W+"_rowspan"])}if(c["_"+W+"_colspan"]){o=u(' colspan="%s"',c["_"+W+"_colspan"])}if(c["_"+W+"_title"]){ab=u(' title="%s"',c["_"+W+"_title"])}m=q(f.header,f.header.cellStyles[aa],[X,c,h,W],m);if(m.classes){Z=u(' class="%s"',m.classes)}if(m.css){var n=[];for(var U in m.css){n.push(U+": "+m.css[U])}b=u('style="%s"',n.concat(f.header.styles[aa]).join("; "))}V=q(ad,f.header.formatters[aa],[X,c,h],X);if(c["_"+W+"_data"]&&!x.isEmptyObject(c["_"+W+"_data"])){x.each(c["_"+W+"_data"],function(G,H){if(G==="index"){return}ac+=u(' data-%s="%s"',G,H)})}if(ad.checkbox||ad.radio){Y=ad.checkbox?"checkbox":Y;Y=ad.radio?"radio":Y;S=[u(f.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',ad["class"]||""),"<input"+u(' data-index="%s"',h)+u(' name="%s"',f.options.selectItemName)+u(' type="%s"',Y)+u(' value="%s"',c[f.options.idField])+u(' checked="%s"',V===true||(X||V&&V.checked)?"checked":undefined)+u(' disabled="%s"',!ad.checkboxEnabled||(V&&V.disabled)?"disabled":undefined)+" />",f.header.formatters[aa]&&typeof V==="string"?V:"",f.options.cardView?"</div>":"</td>"].join("");c[f.header.stateField]=V===true||(V&&V.checked)}else{V=typeof V==="undefined"||V===null?f.options.undefinedText:V;S=f.options.cardView?['<div class="card-view">',f.options.showHeader?u('<span class="title" %s>%s</span>',b,D(f.columns,"field","title",W)):"",u('<span class="value">%s</span>',V),"</div>"].join(""):[u("<td%s %s %s %s %s %s %s>",p,Z,b,ac,T,o,ab),V,"</td>"].join("");if(f.options.cardView&&f.options.smartDisplay&&V===""){S='<div class="card-view"></div>'}}g.push(S)});if(this.options.cardView){g.push("</div></td>")}g.push("</tr>");return g.join(" ")};C.prototype.initBody=function(h){var e=this,g=[],a=this.getData();this.trigger("pre-body",a);this.$body=this.$el.find(">tbody");if(!this.$body.length){this.$body=x("<tbody></tbody>").appendTo(this.$el)}if(!this.options.pagination||this.options.sidePagination==="server"){this.pageFrom=1;this.pageTo=a.length}var b=x(document.createDocumentFragment());var f;for(var i=this.pageFrom-1;i<this.pageTo;i++){var c=a[i];var d=this.initRow(c,i,a,b);f=f||!!d;if(d&&d!==true){b.append(d)}}if(!f){b.append('<tr class="no-records-found">'+u('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches())+"</tr>")}this.$body.html(b);if(!h){this.scrollTo(0)}this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(K){var n=x(this),l=n.parent(),o=e.data[l.data("index")],j=n[0].cellIndex,k=e.getVisibleFields(),J=k[e.options.detailView&&!e.options.cardView?j-1:j],m=e.columns[y(e.columns,J)],p=s(o,J,e.options.escape);if(n.find(".detail-icon").length){return}e.trigger(K.type==="click"?"click-cell":"dbl-click-cell",J,p,o,n);e.trigger(K.type==="click"?"click-row":"dbl-click-row",o,l,J);if(K.type==="click"&&e.options.clickToSelect&&m.clickToSelect){var L=l.find(u('[name="%s"]',e.options.selectItemName));if(L.length){L[0].click()}}});this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var l=x(this),n=l.parent().parent(),j=n.data("index"),k=a[j];if(n.next().is("tr.detail-view")){l.find("i").attr("class",u("%s %s",e.options.iconsPrefix,e.options.icons.detailOpen));e.trigger("collapse-row",j,k);n.next().remove()}else{l.find("i").attr("class",u("%s %s",e.options.iconsPrefix,e.options.icons.detailClose));n.after(u('<tr class="detail-view"><td colspan="%s"></td></tr>',n.find("td").length));var m=n.next().find("td");var o=q(e.options,e.options.detailFormatter,[j,k,m],"");if(m.length===1){m.append(o)}e.trigger("expand-row",j,k,m)}e.resetView();return false});this.$selectItem=this.$body.find(u('[name="%s"]',this.options.selectItemName));this.$selectItem.off("click").on("click",function(j){j.stopImmediatePropagation();var m=x(this),l=m.prop("checked"),k=e.data[m.data("index")];if(e.options.maintainSelected&&x(this).is(":radio")){x.each(e.options.data,function(o,n){n[e.header.stateField]=false})}k[e.header.stateField]=l;if(e.options.singleSelect){e.$selectItem.not(this).each(function(){e.data[x(this).data("index")][e.header.stateField]=false});e.$selectItem.filter(":checked").not(this).prop("checked",false)}e.updateSelected();e.trigger(l?"check":"uncheck",k,m)});x.each(this.header.events,function(m,n){if(!n){return}if(typeof n==="string"){n=q(null,n)}var k=e.header.fields[m],l=x.inArray(k,e.getVisibleFields());if(e.options.detailView&&!e.options.cardView){l+=1}for(var j in n){e.$body.find(">tr:not(.no-records-found)").each(function(){var p=x(this),o=p.find(e.options.cardView?".card-view":"td").eq(l),M=j.indexOf(" "),N=j.substring(0,M),L=j.substring(M+1),K=n[j];o.find(L).off(N).on(N,function(J){var H=p.data("index"),I=e.data[H],G=I[k];K.apply(this,[J,G,I,H])})})}});this.updateSelected();this.resetView();this.trigger("post-body",a)};C.prototype.initServer=function(g,b,f){var d=this,c={},a={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder},e;if(this.options.pagination){a.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;a.pageNumber=this.options.pageNumber}if(!(f||this.options.url)&&!this.options.ajax){return}if(this.options.queryParamsType==="limit"){a={search:a.searchText,sort:a.sortName,order:a.sortOrder};if(this.options.pagination){a.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1);a.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize}}if(!(x.isEmptyObject(this.filterColumnsPartial))){a.filter=JSON.stringify(this.filterColumnsPartial,null)}c=q(this.options,this.options.queryParams,[a],c);x.extend(c,b||{});if(c===false){return}if(!g){this.$tableLoading.show()}e=x.extend({},q(null,this.options.ajaxOptions),{type:this.options.method,url:f||this.options.url,data:this.options.contentType==="application/json"&&this.options.method==="post"?JSON.stringify(c):c,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(h){h=q(d.options,d.options.responseHandler,[h],h);d.load(h);d.trigger("load-success",h);if(!g){d.$tableLoading.hide()}},error:function(h){d.trigger("load-error",h.status,h);if(!g){d.$tableLoading.hide()}}});if(this.options.ajax){q(this,this.options.ajax,[e],null)}else{if(this._xhr&&this._xhr.readyState!==4){this._xhr.abort()}this._xhr=x.ajax(e)}};C.prototype.initSearchText=function(){if(this.options.search){if(this.options.searchText!==""){var a=this.$toolbar.find(".search input");a.val(this.options.searchText);this.onSearch({currentTarget:a})}}};C.prototype.getCaret=function(){var a=this;x.each(this.$header.find("th"),function(c,b){x(b).find(".sortable").removeClass("desc asc").addClass(x(b).data("field")===a.options.sortName?a.options.sortOrder:"both")})};C.prototype.updateSelected=function(){var a=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",a);this.$selectItem.each(function(){x(this).closest("tr")[x(this).prop("checked")?"addClass":"removeClass"]("selected")})};C.prototype.updateRows=function(){var a=this;this.$selectItem.each(function(){a.data[x(this).data("index")][a.header.stateField]=x(this).prop("checked")})};C.prototype.resetRows=function(){var a=this;x.each(this.data,function(c,b){a.$selectAll.prop("checked",false);a.$selectItem.prop("checked",false);if(a.header.stateField){b[a.header.stateField]=false}});this.initHiddenRows()};C.prototype.trigger=function(a){var b=Array.prototype.slice.call(arguments,1);a+=".bs.table";this.options[C.EVENTS[a]].apply(this.options,b);this.$el.trigger(x.Event(a),b);this.options.onAll(a,b);this.$el.trigger(x.Event("all.bs.table"),[a,b])};C.prototype.resetHeader=function(){clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(x.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)};C.prototype.fitHeader=function(){var j=this,i,b,f,e;if(j.$el.is(":hidden")){j.timeoutId_=setTimeout(x.proxy(j.fitHeader,j),100);return}i=this.$tableBody.get(0);b=i.scrollWidth>i.clientWidth&&i.scrollHeight>i.clientHeight+this.$header.outerHeight()?F():0;this.$el.css("margin-top",-this.$header.outerHeight());f=x(":focus");if(f.length>0){var d=f.parents("th");if(d.length>0){var c=d.attr("data-field");if(c!==undefined){var a=this.$header.find("[data-field='"+c+"']");if(a.length>0){a.find(":input").addClass("focus-temp")}}}}this.$header_=this.$header.clone(true,true);this.$selectAll_=this.$header_.find('[name="btSelectAll"]');this.$tableHeader.css({"margin-right":b}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_);e=x(".focus-temp:visible:eq(0)");if(e.length>0){e.focus();this.$header.find(".focus-temp").removeClass("focus-temp")}this.$header.find("th[data-field]").each(function(k){j.$header_.find(u('th[data-field="%s"]',x(this).data("field"))).data(x(this).data())});var g=this.getVisibleFields(),h=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(n){var l=x(this),k=n;if(j.options.detailView&&!j.options.cardView){if(n===0){j.$header_.find("th.detail").find(".fht-cell").width(l.innerWidth())}k=n-1}var m=j.$header_.find(u('th[data-field="%s"]',g[k]));if(m.length>1){m=x(h[l[0].cellIndex])}m.find(".fht-cell").width(l.innerWidth())});this.$tableBody.off("scroll").on("scroll",function(){j.$tableHeader.scrollLeft(x(this).scrollLeft());if(j.options.showFooter&&!j.options.cardView){j.$tableFooter.scrollLeft(x(this).scrollLeft())}});j.trigger("post-header")};C.prototype.resetFooter=function(){var b=this,a=b.getData(),c=[];if(!this.options.showFooter||this.options.cardView){return}if(!this.options.cardView&&this.options.detailView){c.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>')}x.each(this.columns,function(f,k){var g,e="",h="",j=[],d={},i=u(' class="%s"',k["class"]);if(!k.visible){return}if(b.options.cardView&&(!k.cardVisible)){return}e=u("text-align: %s; ",k.falign?k.falign:k.align);h=u("vertical-align: %s; ",k.valign);d=q(null,b.options.footerStyle);if(d&&d.css){for(g in d.css){j.push(g+": "+d.css[g])}}c.push("<td",i,u(' style="%s"',e+h+j.concat().join("; ")),">");c.push('<div class="th-inner">');c.push(q(k,k.footerFormatter,[a],"&nbsp;")||"&nbsp;");c.push("</div>");c.push('<div class="fht-cell"></div>');c.push("</div>");c.push("</td>")});this.$tableFooter.find("tr").html(c.join(""));this.$tableFooter.show();clearTimeout(this.timeoutFooter_);this.timeoutFooter_=setTimeout(x.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0)};C.prototype.fitFooter=function(){var a=this,d,b,c;clearTimeout(this.timeoutFooter_);if(this.$el.is(":hidden")){this.timeoutFooter_=setTimeout(x.proxy(this.fitFooter,this),100);return}b=this.$el.css("width");c=b>this.$tableBody.width()?F():0;this.$tableFooter.css({"margin-right":c}).find("table").css("width",b).attr("class",this.$el.attr("class"));d=this.$tableFooter.find("td");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(f){var e=x(this);d.eq(f).find(".fht-cell").width(e.innerWidth())})};C.prototype.toggleColumn=function(d,c,a){if(d===-1){return}this.columns[d].visible=c;this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var b=this.$toolbar.find(".keep-open input").prop("disabled",false);if(a){b.filter(u('[value="%s"]',d)).prop("checked",c)}if(b.filter(":checked").length<=this.options.minimumCountColumns){b.filter(":checked").prop("disabled",true)}}};C.prototype.getVisibleFields=function(){var a=this,b=[];x.each(this.header.fields,function(e,c){var d=a.columns[y(a.columns,c)];if(!d.visible){return}b.push(c)});return b};C.prototype.resetView=function(b){var d=0;if(b&&b.height){this.options.height=b.height}this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length);if(this.options.height){var c=this.$toolbar.outerHeight(true),a=this.$pagination.outerHeight(true),e=this.options.height-c-a;this.$tableContainer.css("height",e+"px")}if(this.options.cardView){this.$el.css("margin-top","0");this.$tableContainer.css("padding-bottom","0");this.$tableFooter.hide();return}if(this.options.showHeader&&this.options.height){this.$tableHeader.show();this.resetHeader();d+=this.$header.outerHeight()}else{this.$tableHeader.hide();this.trigger("post-header")}if(this.options.showFooter){this.resetFooter();if(this.options.height){d+=this.$tableFooter.outerHeight()+1}}this.getCaret();this.$tableContainer.css("padding-bottom",d+"px");this.trigger("reset-view")};C.prototype.getData=function(a){return(this.searchText||!x.isEmptyObject(this.filterColumns)||!x.isEmptyObject(this.filterColumnsPartial))?(a?this.data.slice(this.pageFrom-1,this.pageTo):this.data):(a?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data)};C.prototype.load=function(a){var b=false;if(this.options.sidePagination==="server"){this.options.totalRows=a[this.options.totalField];b=a.fixedScroll;a=a[this.options.dataField]}else{if(!x.isArray(a)){b=a.fixedScroll;a=a.data}}this.initData(a);this.initSearch();this.initPagination();this.initBody(b)};C.prototype.append=function(a){this.initData(a,"append");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};C.prototype.prepend=function(a){this.initData(a,"prepend");this.initSearch();this.initPagination();this.initSort();this.initBody(true)};C.prototype.remove=function(a){var d=this.options.data.length,c,b;if(!a.hasOwnProperty("field")||!a.hasOwnProperty("values")){return}for(c=d-1;c>=0;c--){b=this.options.data[c];if(!b.hasOwnProperty(a.field)){continue}if(x.inArray(b[a.field],a.values)!==-1){this.options.data.splice(c,1);if(this.options.sidePagination==="server"){this.options.totalRows-=1}}}if(d===this.options.data.length){return}this.initSearch();this.initPagination();this.initSort();this.initBody(true)};C.prototype.removeAll=function(){if(this.options.data.length>0){this.options.data.splice(0,this.options.data.length);this.initSearch();this.initPagination();this.initBody(true)}};C.prototype.getRowByUniqueId=function(a){var b=this.options.uniqueId,g=this.options.data.length,f=null,e,c,d;for(e=g-1;e>=0;e--){c=this.options.data[e];if(c.hasOwnProperty(b)){d=c[b]}else{if(c._data.hasOwnProperty(b)){d=c._data[b]}else{continue}}if(typeof d==="string"){a=a.toString()}else{if(typeof d==="number"){if((Number(d)===d)&&(d%1===0)){a=parseInt(a)}else{if((d===Number(d))&&(d!==0)){a=parseFloat(a)}}}}if(d===a){f=c;break}}return f};C.prototype.removeByUniqueId=function(a){var c=this.options.data.length,b=this.getRowByUniqueId(a);if(b){this.options.data.splice(this.options.data.indexOf(b),1)}if(c===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(true)};C.prototype.updateByUniqueId=function(a){var c=this;var b=x.isArray(a)?a:[a];x.each(b,function(f,d){var e;if(!d.hasOwnProperty("id")||!d.hasOwnProperty("row")){return}e=x.inArray(c.getRowByUniqueId(d.id),c.options.data);if(e===-1){return}x.extend(c.options.data[e],d.row)});this.initSearch();this.initPagination();this.initSort();this.initBody(true)};C.prototype.insertRow=function(a){if(!a.hasOwnProperty("index")||!a.hasOwnProperty("row")){return}this.data.splice(a.index,0,a.row);this.initSearch();this.initPagination();this.initSort();this.initBody(true)};C.prototype.updateRow=function(a){var c=this;var b=x.isArray(a)?a:[a];x.each(b,function(e,d){if(!d.hasOwnProperty("index")||!d.hasOwnProperty("row")){return}x.extend(c.options.data[d.index],d.row)});this.initSearch();this.initPagination();this.initSort();this.initBody(true)};C.prototype.initHiddenRows=function(){this.hiddenRows=[]};C.prototype.showRow=function(a){this.toggleRow(a,true)};C.prototype.hideRow=function(a){this.toggleRow(a,false)};C.prototype.toggleRow=function(a,b){var c,d;if(a.hasOwnProperty("index")){c=this.getData()[a.index]}else{if(a.hasOwnProperty("uniqueId")){c=this.getRowByUniqueId(a.uniqueId)}}if(!c){return}d=x.inArray(c,this.hiddenRows);if(!b&&d===-1){this.hiddenRows.push(c)}else{if(b&&d>-1){this.hiddenRows.splice(d,1)}}this.initBody(true)};C.prototype.getHiddenRows=function(d){var c=this,a=this.getData(),b=[];x.each(a,function(f,e){if(x.inArray(e,c.hiddenRows)>-1){b.push(e)}});this.hiddenRows=b;return b};C.prototype.mergeCells=function(c){var d=c.index,i=x.inArray(c.field,this.getVisibleFields()),h=c.rowspan||1,a=c.colspan||1,f,g,e=this.$body.find(">tr"),b;if(this.options.detailView&&!this.options.cardView){i+=1}b=e.eq(d).find(">td").eq(i);if(d<0||i<0||d>=this.data.length){return}for(f=d;f<d+h;f++){for(g=i;g<i+a;g++){e.eq(f).find(">td").eq(g).hide()}}b.attr("rowspan",h).attr("colspan",a).show()};C.prototype.updateCell=function(a){if(!a.hasOwnProperty("index")||!a.hasOwnProperty("field")||!a.hasOwnProperty("value")){return}this.data[a.index][a.field]=a.value;if(a.reinit===false){return}this.initSort();this.initBody(true)};C.prototype.getOptions=function(){return this.options};C.prototype.getSelections=function(){var a=this;return x.grep(this.options.data,function(b){return b[a.header.stateField]===true})};C.prototype.getAllSelections=function(){var a=this;return x.grep(this.options.data,function(b){return b[a.header.stateField]})};C.prototype.checkAll=function(){this.checkAll_(true)};C.prototype.uncheckAll=function(){this.checkAll_(false)};C.prototype.checkInvert=function(){var b=this;var a=b.$selectItem.filter(":enabled");var c=a.filter(":checked");a.each(function(){x(this).prop("checked",!x(this).prop("checked"))});b.updateRows();b.updateSelected();b.trigger("uncheck-some",c);c=b.getSelections();b.trigger("check-some",c)};C.prototype.checkAll_=function(b){var a;if(!b){a=this.getSelections()}this.$selectAll.add(this.$selectAll_).prop("checked",b);this.$selectItem.filter(":enabled").prop("checked",b);this.updateRows();if(b){a=this.getSelections()}this.trigger(b?"check-all":"uncheck-all",a)};C.prototype.check=function(a){this.check_(true,a)};C.prototype.uncheck=function(a){this.check_(false,a)};C.prototype.check_=function(a,c){var b=this.$selectItem.filter(u('[data-index="%s"]',c)).prop("checked",a);this.data[c][this.header.stateField]=a;this.updateSelected();this.trigger(a?"check":"uncheck",this.data[c],b)};C.prototype.checkBy=function(a){this.checkBy_(true,a)};C.prototype.uncheckBy=function(a){this.checkBy_(false,a)};C.prototype.checkBy_=function(c,a){if(!a.hasOwnProperty("field")||!a.hasOwnProperty("values")){return}var d=this,b=[];x.each(this.options.data,function(g,e){if(!e.hasOwnProperty(a.field)){return false}if(x.inArray(e[a.field],a.values)!==-1){var f=d.$selectItem.filter(":enabled").filter(u('[data-index="%s"]',g)).prop("checked",c);e[d.header.stateField]=c;b.push(e);d.trigger(c?"check":"uncheck",e,f)}});this.updateSelected();this.trigger(c?"check-some":"uncheck-some",b)};C.prototype.destroy=function(){this.$el.insertBefore(this.$container);x(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")};C.prototype.showLoading=function(){this.$tableLoading.show()};C.prototype.hideLoading=function(){this.$tableLoading.hide()};C.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var a=this.$toolbar.find('button[name="paginationSwitch"] i');if(this.options.pagination){a.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown)}else{a.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp)}this.updatePagination()};C.prototype.refresh=function(a){if(a&&a.url){this.options.url=a.url}if(a&&a.pageNumber){this.options.pageNumber=a.pageNumber}if(a&&a.pageSize){this.options.pageSize=a.pageSize}this.initServer(a&&a.silent,a&&a.query,a&&a.url);this.trigger("refresh",a)};C.prototype.resetWidth=function(){if(this.options.showHeader&&this.options.height){this.fitHeader()}if(this.options.showFooter){this.fitFooter()}};C.prototype.showColumn=function(a){this.toggleColumn(y(this.columns,a),true,true)};C.prototype.hideColumn=function(a){this.toggleColumn(y(this.columns,a),false,true)};C.prototype.getHiddenColumns=function(){return x.grep(this.columns,function(a){return !a.visible})};C.prototype.getVisibleColumns=function(){return x.grep(this.columns,function(a){return a.visible})};C.prototype.toggleAllColumns=function(b){x.each(this.columns,function(d,c){this.columns[d].visible=b});this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var a=this.$toolbar.find(".keep-open input").prop("disabled",false);if(a.filter(":checked").length<=this.options.minimumCountColumns){a.filter(":checked").prop("disabled",true)}}};C.prototype.showAllColumns=function(){this.toggleAllColumns(true)};C.prototype.hideAllColumns=function(){this.toggleAllColumns(false)};C.prototype.filterBy=function(a){this.filterColumns=x.isEmptyObject(a)?{}:a;this.options.pageNumber=1;this.initSearch();this.updatePagination()};C.prototype.scrollTo=function(a){if(typeof a==="string"){a=a==="bottom"?this.$tableBody[0].scrollHeight:0}if(typeof a==="number"){this.$tableBody.scrollTop(a)}if(typeof a==="undefined"){return this.$tableBody.scrollTop()}};C.prototype.getScrollPosition=function(){return this.scrollTo()};C.prototype.selectPage=function(a){if(a>0&&a<=this.options.totalPages){this.options.pageNumber=a;this.updatePagination()}};C.prototype.prevPage=function(){if(this.options.pageNumber>1){this.options.pageNumber--;this.updatePagination()}};C.prototype.nextPage=function(){if(this.options.pageNumber<this.options.totalPages){this.options.pageNumber++;this.updatePagination()}};C.prototype.toggleView=function(){this.options.cardView=!this.options.cardView;this.initHeader();this.initBody();this.trigger("toggle",this.options.cardView)};C.prototype.refreshOptions=function(a){if(B(this.options,a,true)){return}this.options=x.extend(this.options,a);this.trigger("refresh-options",this.options);this.destroy();this.init()};C.prototype.resetSearch=function(a){var b=this.$toolbar.find(".search input");b.val(a||"");this.onSearch({currentTarget:b})};C.prototype.expandRow_=function(b,c){var a=this.$body.find(u('> tr[data-index="%s"]',c));if(a.next().is("tr.detail-view")===(b?false:true)){a.find("> td > .detail-icon").click()}};C.prototype.expandRow=function(a){this.expandRow_(true,a)};C.prototype.collapseRow=function(a){this.expandRow_(false,a)};C.prototype.expandAllRows=function(b){if(b){var f=this.$body.find(u('> tr[data-index="%s"]',0)),e=this,h=null,g=false,a=-1;if(!f.next().is("tr.detail-view")){f.find("> td > .detail-icon").click();g=true}else{if(!f.next().next().is("tr.detail-view")){f.next().find(".detail-icon").click();g=true}}if(g){try{a=setInterval(function(){h=e.$body.find("tr.detail-view").last().find(".detail-icon");if(h.length>0){h.click()}else{clearInterval(a)}},1)}catch(c){clearInterval(a)}}}else{var d=this.$body.children();for(var i=0;i<d.length;i++){this.expandRow_(true,x(d[i]).data("index"))}}};C.prototype.collapseAllRows=function(b){if(b){this.expandRow_(false,0)}else{var c=this.$body.children();for(var a=0;a<c.length;a++){this.expandRow_(false,x(c[a]).data("index"))}}};C.prototype.updateFormatText=function(b,a){if(this.options[u("format%s",b)]){if(typeof a==="string"){this.options[u("format%s",b)]=function(){return a}}else{if(typeof a==="function"){this.options[u("format%s",b)]=a}}}this.initToolbar();this.initPagination();this.initBody()};var t=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getHiddenRows","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText"];x.fn.bootstrapTable=function(b){var a,c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=x(this),e=d.data("bootstrap.table"),f=x.extend({},C.DEFAULTS,d.data(),typeof b==="object"&&b);if(typeof b==="string"){if(x.inArray(b,t)<0){throw new Error("Unknown method: "+b)}if(!e){return}a=e[b].apply(e,c);if(b==="destroy"){d.removeData("bootstrap.table")}}if(!e){d.data("bootstrap.table",(e=new C(this,f)))}});return typeof a==="undefined"?this:a};x.fn.bootstrapTable.Constructor=C;x.fn.bootstrapTable.defaults=C.DEFAULTS;x.fn.bootstrapTable.columnDefaults=C.COLUMN_DEFAULTS;x.fn.bootstrapTable.locales=C.LOCALES;x.fn.bootstrapTable.methods=t;x.fn.bootstrapTable.utils={sprintf:u,getFieldIndex:y,compareObjects:B,calculateObjectValue:q,getItemField:s,objectKeys:z,isIEBrowser:E};x(function(){x('[data-toggle="table"]').bootstrapTable()})})(jQuery);