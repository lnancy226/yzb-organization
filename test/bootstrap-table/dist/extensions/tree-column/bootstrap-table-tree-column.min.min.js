!function(g){g.extend(g.fn.bootstrapTable.defaults,{treeShowField:null,idField:"id",parentIdField:"pid",treeVerticalcls:"vertical",treeVerticalLastcls:"vertical last",treeSpacecls:"space",treeNodecls:"node",treeCellcls:"treenode",treeTextcls:"text",onTreeFormatter:function(l){for(var k=this,q=k.options,p=l._level||0,o=l._parent&&l._parent._level||0,n=[],m=0;o>m;m++){n.push('<i class="'+q.treeVerticalcls+'"></i>'),n.push('<i class="'+q.treeSpacecls+'"></i>')}for(var m=o;p>m;m++){n.push(l._last&&m===p-1?'<i class="'+q.treeVerticalLastcls+'"></i>':'<i class="'+q.treeVerticalcls+'"></i>'),n.push('<i class="'+q.treeNodecls+'"></i>')}return n.join("")},onGetNodes:function(a,m){var l=this,k=[];return g.each(m,function(b,d){a[l.options.idField]===d[l.options.parentIdField]&&k.push(d)}),k},onCheckLeaf:function(b){return void 0!==b.isLeaf?b.isLeaf:!b._nodes||!b._nodes.length},onCheckRoot:function(d){var c=this;return !d[c.options.parentIdField]}});var f=g.fn.bootstrapTable.Constructor,j=f.prototype.initRow,i=f.prototype.initHeader;f.prototype.initHeader=function(){var a=this;i.apply(a,Array.prototype.slice.apply(arguments));var d=a.options.treeShowField;d&&g.each(this.header.fields,function(b,l){if(d===l){a.treeEnable=!0;var k=a.header.formatters[b],c=[a.options.treeCellcls];return a.header.classes[b]&&c.push(a.header.classes[b].split('"')[1]||""),a.header.classes[b]='class="'+c.join(" ")+'"',a.header.formatters[b]=function(e,n){var m=[a.options.onTreeFormatter.apply(a,[n])];return m.push('<span class="'+a.options.treeTextcls+'">'),m.push(k?k.apply(this,Array.prototype.slice.apply(arguments)):e),m.push("</span>"),m.join("")},!1}})};var h=function(r,q,p,o){var n=this,m=n.options.onGetNodes.apply(n,[r,p]);r._nodes=m,o.append(j.apply(n,[r,q,p,o]));for(var e=m.length-1,c=0;e>=c;c++){var a=m[c];a._level=r._level+1,a._parent=r,c===e&&(a._last=1),h.apply(n,[a,g.inArray(a,p),p,o])}};f.prototype.initRow=function(e,c,m,l){var k=this;return k.treeEnable?k.options.onCheckRoot.apply(k,[e,m])?(void 0===e._level&&(e._level=0),h.apply(k,[e,c,m,l]),!0):!1:j.apply(k,Array.prototype.slice.apply(arguments))}}(jQuery);