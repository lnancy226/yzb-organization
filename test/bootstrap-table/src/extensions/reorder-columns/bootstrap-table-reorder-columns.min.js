!function(d){var f=function(){if(!Array.prototype.filter){Array.prototype.filter=function(k){if(this===void 0||this===null){throw new TypeError()}var n=Object(this);var h=n.length>>>0;if(typeof k!=="function"){throw new TypeError()}var m=[];var j=arguments.length>=2?arguments[1]:void 0;for(var l=0;l<h;l++){if(l in n){var o=n[l];if(k.call(j,o,l,n)){m.push(o)}}}return m}}};d.extend(d.fn.bootstrapTable.defaults,{reorderableColumns:false,maxMovingRows:10,onReorderColumn:function(h){return false},dragaccept:null});d.extend(d.fn.bootstrapTable.Constructor.EVENTS,{"reorder-column.bs.table":"onReorderColumn"});var a=d.fn.bootstrapTable.Constructor,c=a.prototype.initHeader,g=a.prototype.toggleColumn,e=a.prototype.toggleView,b=a.prototype.resetView;a.prototype.initHeader=function(){c.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};a.prototype.toggleColumn=function(){g.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};a.prototype.toggleView=function(){e.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}if(this.options.cardView){return}this.makeRowsReorderable()};a.prototype.resetView=function(){b.apply(this,Array.prototype.slice.apply(arguments));if(!this.options.reorderableColumns){return}this.makeRowsReorderable()};a.prototype.makeRowsReorderable=function(){var h=this;try{d(this.$el).dragtable("destroy")}catch(i){}d(this.$el).dragtable({maxMovingRows:h.options.maxMovingRows,dragaccept:h.options.dragaccept,clickDelay:200,beforeStop:function(){var k=[],l=[],n=[],j=[],o=-1,p=[];h.$header.find("th").each(function(q){k.push(d(this).data("field"));l.push(d(this).data("formatter"))});if(k.length<h.columns.length){j=d.grep(h.columns,function(q){return !q.visible});for(var m=0;m<j.length;m++){k.push(j[m].field);l.push(j[m].formatter)}}for(var m=0;m<this.length;m++){o=h.fieldsColumnsIndex[k[m]];if(o!==-1){h.columns[o].fieldIndex=m;n.push(h.columns[o]);h.columns.splice(o,1)}}h.columns=h.columns.concat(n);f();d.each(h.columns,function(q,r){var s=false,t=r.field;h.options.columns[0].filter(function(u){if(!s&&u.field==t){p.push(u);s=true;return false}else{return true}})});h.options.columns[0]=p;h.header.fields=k;h.header.formatters=l;h.initHeader();h.initToolbar();h.initBody();h.resetView();h.trigger("reorder-column",k)}})}}(jQuery);