(function(b){function a(c){this.$el=c}a.prototype={constructor:a,init:function(c){this.options=c;this.initViews();this.initAffix()},initViews:function(){var e=this,d={},g=0,f="";this.$menu=b(['<div class="bs-sidebar hidden-print">','  <ul class="nav bs-sidenav">',"  </ul>","</div>"].join(""));this.$list="";if(typeof this.options.hs==="string"){this.options.hs=b.map(this.options.hs.split(","),function(i){return b.trim(i)})}this.$el.find(this.options.hs.join(",")).each(function(m){var o=b(this),p,j=o[0].localName,q=o.text(),h=b.inArray(j,e.options.hs)+1,r=[],n,k;if(h-g>1){return}if(!d.hasOwnProperty(j)||h-g===1){d[j]=0}d[j]++;b.each(d,function(t){r.push(d[t]);if(r.length===h){return false}});n=r.join("-");k="sideNavTitle"+n;if(e.options.smartId){k=b.trim(b(this).text()).toLowerCase();k=k.replace(/ /g,"-");k=k.replace(/'|"/g,"");if(h===2){k=f+"-"+k}}p=b('<div id="'+k+'"></div>');p.insertAfter(o).append(o);var l='<a href="#'+k+'">'+q+"</a>";if(h===1&&g===0){e.$list+='<li class="active">'+l}else{if(h===g){e.$list+="</li><li>"+l}else{if(h-g===1){e.$list+='<ul class="nav"><li>'+l}else{for(var s=0;s<g-h;s++){e.$list+="</ul></li>"}e.$list+="<li>"+l}}}if(h===1){f=k}g=h});for(;g>0;g--){if(g>1){e.$list+="</ul>"}e.$list+="</li>"}this.$menu.find("ul").append(this.$list);var c='<a class="back-to-top" href="'+this.options.toTopHref+'">'+this.options.toTopText+"</a>";this.$menu.append(c);b(this.options.container).append(this.$menu)},initAffix:function(){b("body").scrollspy({target:".bs-sidebar"});if(typeof this.options.top==="undefined"){this.options.top=this.options.container}if(typeof this.options.top==="string"&&b(this.options.top).length){this.options.top=b(this.options.top).offset().top}if(typeof this.options.bottom==="string"&&b(this.options.bottom).length){this.options.bottom=b(this.options.bottom).outerHeight(true)}this.$menu.affix({offset:{top:this.options.top||0,bottom:this.options.bottom||0}})}};b.fn.sideNav=function(){var d=arguments[0],c=arguments,e;this.each(function(){var h=b(this),g=h.data("sideNav"),f=b.extend({},b.fn.sideNav.defaults,h.data(),d);if(!g){g=new a(h);g.init(f,true);h.data("sideNav",g)}else{g.init(f)}});return e?e:this};b.fn.sideNav.defaults={container:"body",hs:["h2","h3","h4"],smartId:false,top:undefined,bottom:undefined,toTopHref:"#top",toTopText:"Back to top"};b(function(){b('[data-toggle="sidenav"]').sideNav()})})(jQuery);