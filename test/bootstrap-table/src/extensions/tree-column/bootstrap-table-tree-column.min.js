!function(d){d.extend(d.fn.bootstrapTable.defaults,{treeShowField:null,idField:"id",parentIdField:"pid",treeVerticalcls:"vertical",treeVerticalLastcls:"vertical last",treeSpacecls:"space",treeNodecls:"node",treeCellcls:"treenode",treeTextcls:"text",onTreeFormatter:function(k){var j=this,g=j.options,m=k._level||0,l=k._parent&&k._parent._level||0,f=[];for(var h=0;h<l;h++){f.push('<i class="'+g.treeVerticalcls+'"></i>');f.push('<i class="'+g.treeSpacecls+'"></i>')}for(var h=l;h<m;h++){if(k._last&&h===(m-1)){f.push('<i class="'+g.treeVerticalLastcls+'"></i>')}else{f.push('<i class="'+g.treeVerticalcls+'"></i>')}f.push('<i class="'+g.treeNodecls+'"></i>')}return f.join("")},onGetNodes:function(i,h){var g=this;var f=[];d.each(h,function(j,k){if(i[g.options.idField]===k[g.options.parentIdField]){f.push(k)}});return f},onCheckLeaf:function(g,f){if(g.isLeaf!==undefined){return g.isLeaf}return !g._nodes||!g._nodes.length},onCheckRoot:function(h,g){var f=this;return !h[f.options.parentIdField]}});var b=d.fn.bootstrapTable.Constructor,a=b.prototype.initRow,c=b.prototype.initHeader;b.prototype.initHeader=function(){var g=this;c.apply(g,Array.prototype.slice.apply(arguments));var f=g.options.treeShowField;if(f){d.each(this.header.fields,function(j,l){if(f===l){g.treeEnable=true;var k=g.header.formatters[j];var h=[g.options.treeCellcls];if(g.header.classes[j]){h.push(g.header.classes[j].split('"')[1]||"")}g.header.classes[j]='class="'+h.join(" ")+'"';g.header.formatters[j]=function(n,o,m){var i=[g.options.onTreeFormatter.apply(g,[o])];i.push('<span class="'+g.options.treeTextcls+'">');if(k){i.push(k.apply(this,Array.prototype.slice.apply(arguments)))}else{i.push(n)}i.push("</span>");return i.join("")};return false}})}};var e=function(o,n,j,h){var l=this;var f=l.options.onGetNodes.apply(l,[o,j]);o._nodes=f;h.append(a.apply(l,[o,n,j,h]));var m=f.length-1;for(var k=0;k<=m;k++){var g=f[k];g._level=o._level+1;g._parent=o;if(k===m){g._last=1}e.apply(l,[g,d.inArray(g,j),j,h])}};b.prototype.initRow=function(h,f,i,j){var g=this;if(g.treeEnable){if(g.options.onCheckRoot.apply(g,[h,i])){if(h._level===undefined){h._level=0}e.apply(g,[h,f,i,j]);return true}return false}return a.apply(g,Array.prototype.slice.apply(arguments))}}(jQuery);