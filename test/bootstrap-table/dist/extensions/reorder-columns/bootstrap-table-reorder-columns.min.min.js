!function(i){var h=function(){Array.prototype.filter||(Array.prototype.filter=function(p){if(void 0===this||null===this){throw new TypeError}var o=Object(this),u=o.length>>>0;if("function"!=typeof p){throw new TypeError}for(var t=[],s=arguments.length>=2?arguments[1]:void 0,r=0;u>r;r++){if(r in o){var q=o[r];p.call(s,q,r,o)&&t.push(q)}}return t})};i.extend(i.fn.bootstrapTable.defaults,{reorderableColumns:!1,maxMovingRows:10,onReorderColumn:function(){return !1},dragaccept:null}),i.extend(i.fn.bootstrapTable.Constructor.EVENTS,{"reorder-column.bs.table":"onReorderColumn"});var n=i.fn.bootstrapTable.Constructor,m=n.prototype.initHeader,l=n.prototype.toggleColumn,k=n.prototype.toggleView,j=n.prototype.resetView;n.prototype.initHeader=function(){m.apply(this,Array.prototype.slice.apply(arguments)),this.options.reorderableColumns&&this.makeRowsReorderable()},n.prototype.toggleColumn=function(){l.apply(this,Array.prototype.slice.apply(arguments)),this.options.reorderableColumns&&this.makeRowsReorderable()},n.prototype.toggleView=function(){k.apply(this,Array.prototype.slice.apply(arguments)),this.options.reorderableColumns&&(this.options.cardView||this.makeRowsReorderable())},n.prototype.resetView=function(){j.apply(this,Array.prototype.slice.apply(arguments)),this.options.reorderableColumns&&this.makeRowsReorderable()},n.prototype.makeRowsReorderable=function(){var b=this;try{i(this.$el).dragtable("destroy")}catch(a){}i(this.$el).dragtable({maxMovingRows:b.options.maxMovingRows,dragaccept:b.options.dragaccept,clickDelay:200,beforeStop:function(){var t=[],s=[],r=[],q=[],p=-1,o=[];if(b.$header.find("th").each(function(){t.push(i(this).data("field")),s.push(i(this).data("formatter"))}),t.length<b.columns.length){q=i.grep(b.columns,function(d){return !d.visible});for(var c=0;c<q.length;c++){t.push(q[c].field),s.push(q[c].formatter)}}for(var c=0;c<t.length;c++){p=i.fn.bootstrapTable.utils.getFieldIndex(b.columns,t[c]),-1!==p&&(b.columns[p].fieldIndex=c,r.push(b.columns[p]),b.columns.splice(p,1))}b.columns=b.columns.concat(r),h(),i.each(b.columns,function(g,f){var v=!1,u=f.field;b.options.columns[0].filter(function(d){return v||d.field!=u?!0:(o.push(d),v=!0,!1)})}),b.options.columns[0]=o,b.header.fields=t,b.header.formatters=s,b.initHeader(),b.initToolbar(),b.initBody(),b.resetView(),b.trigger("reorder-column",t)}})}}(jQuery);