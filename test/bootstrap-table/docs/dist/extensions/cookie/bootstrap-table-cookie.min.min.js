!function(V){var U={sortOrder:"bs.table.sortOrder",sortName:"bs.table.sortName",pageNumber:"bs.table.pageNumber",pageList:"bs.table.pageList",columns:"bs.table.columns",searchText:"bs.table.searchText",filterControl:"bs.table.filterControl"},T=function(d){var c=d.$header;return d.options.height&&(c=d.$tableHeader),c},S=function(d){var c="select, input";return d.options.height&&(c="table select, table input"),c},R=function(){return !!navigator.cookieEnabled},Q=function(f,e){for(var h=-1,g=0;g<e.length;g++){if(f.toLowerCase()===e[g].toLowerCase()){h=g;break}}return h},P=function(e,d,f){if(e.options.cookie&&R()&&""!==e.options.cookieIdTable&&-1!==Q(d,e.options.cookiesEnabled)){switch(d=e.options.cookieIdTable+"."+d,e.options.cookieStorage){case"cookieStorage":document.cookie=[d,"=",f,"; expires="+e.options.cookieExpire,e.options.cookiePath?"; path="+e.options.cookiePath:"",e.options.cookieDomain?"; domain="+e.options.cookieDomain:"",e.options.cookieSecure?"; secure":""].join("");break;case"localStorage":localStorage.setItem(d,f);break;case"sessionStorage":sessionStorage.setItem(d,f);break;default:return !1}return !0}},O=function(e,d,f){if(!f){return null}if(-1===Q(f,e.options.cookiesEnabled)){return null}switch(f=d+"."+f,e.options.cookieStorage){case"cookieStorage":return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(f).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;case"localStorage":return localStorage.getItem(f);case"sessionStorage":return sessionStorage.getItem(f);default:return null}},N=function(e,d,f){switch(f=d+"."+f,e.options.cookieStorage){case"cookieStorage":document.cookie=[encodeURIComponent(f),"=","; expires=Thu, 01 Jan 1970 00:00:00 GMT",e.options.cookiePath?"; path="+e.options.cookiePath:"",e.options.cookieDomain?"; domain="+e.options.cookieDomain:""].join("");break;case"localStorage":localStorage.removeItem(f);break;case"sessionStorage":sessionStorage.removeItem(f)}return !0},M=function(a){setTimeout(function(){var h=JSON.parse(O(a,a.options.cookieIdTable,U.filterControl));if(!a.options.filterControlValuesLoaded&&h){a.options.filterControlValuesLoaded=!0;var e={},d=T(a),c=S(a),b=function(f,g){V(g).each(function(j,i){V(f).val(i.text),e[i.field]=i.text})};d.find(c).each(function(){var f=V(this).closest("[data-field]").data("field"),g=V.grep(h,function(i){return i.field===f});b(this,g)}),a.initColumnSearch(e)}},250)};V.extend(V.fn.bootstrapTable.defaults,{cookie:!1,cookieExpire:"2h",cookiePath:null,cookieDomain:null,cookieSecure:null,cookieIdTable:"",cookiesEnabled:["bs.table.sortOrder","bs.table.sortName","bs.table.pageNumber","bs.table.pageList","bs.table.columns","bs.table.searchText","bs.table.filterControl"],cookieStorage:"cookieStorage",filterControls:[],filterControlValuesLoaded:!1}),V.fn.bootstrapTable.methods.push("getCookies"),V.fn.bootstrapTable.methods.push("deleteCookie"),V.extend(V.fn.bootstrapTable.utils,{setCookie:P,getCookie:O});var L=V.fn.bootstrapTable.Constructor,K=L.prototype.init,J=L.prototype.initTable,I=L.prototype.initServer,H=L.prototype.onSort,G=L.prototype.onPageNumber,F=L.prototype.onPageListChange,E=L.prototype.onPageFirst,D=L.prototype.onPagePre,C=L.prototype.onPageNext,B=L.prototype.onPageLast,A=L.prototype.toggleColumn,z=L.prototype.selectPage,y=L.prototype.onSearch;L.prototype.init=function(){if(this.options.filterControls=[],this.options.filterControlValuesLoaded=!1,this.options.cookiesEnabled="string"==typeof this.options.cookiesEnabled?this.options.cookiesEnabled.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.cookiesEnabled,this.options.filterControl){var b=this;this.$el.on("column-search.bs.table",function(k,j,i){for(var g=!0,a=0;a<b.options.filterControls.length;a++){if(b.options.filterControls[a].field===j){b.options.filterControls[a].text=i,g=!1;break}}g&&b.options.filterControls.push({field:j,text:i}),P(b,U.filterControl,JSON.stringify(b.options.filterControls))}).on("post-body.bs.table",M(b))}K.apply(this,Array.prototype.slice.apply(arguments))},L.prototype.initServer=function(){var j=this,i=[],h=function(c){return c.filterControl&&"select"===c.filterControl},b=function(c){return c.filterData&&"column"!==c.filterData},a=function(){var c=JSON.parse(O(j,j.options.cookieIdTable,U.filterControl));return j.options.cookie&&c};i=V.grep(j.columns,function(c){return h(c)&&!b(c)}),L.prototype.initServer=I,this.options.filterControl&&a()&&0===i.length||I.apply(this,Array.prototype.slice.apply(arguments))},L.prototype.initTable=function(){J.apply(this,Array.prototype.slice.apply(arguments)),this.initCookie()},L.prototype.initCookie=function(){if(this.options.cookie){if(""===this.options.cookieIdTable||""===this.options.cookieExpire||!R()){throw new Error("Configuration error. Please review the cookieIdTable, cookieExpire properties, if those properties are ok, then this browser does not support the cookies")}var l=O(this,this.options.cookieIdTable,U.sortOrder),k=O(this,this.options.cookieIdTable,U.sortName),h=O(this,this.options.cookieIdTable,U.pageNumber),e=O(this,this.options.cookieIdTable,U.pageList),b=JSON.parse(O(this,this.options.cookieIdTable,U.columns)),a=O(this,this.options.cookieIdTable,U.searchText);this.options.sortOrder=l?l:this.options.sortOrder,this.options.sortName=k?k:this.options.sortName,this.options.pageNumber=h?+h:this.options.pageNumber,this.options.pageSize=e?e===this.options.formatAllRows()?e:+e:this.options.pageSize,this.options.searchText=a?a:"",b&&V.each(this.columns,function(d,f){f.visible=-1!==V.inArray(f.field,b)})}},L.prototype.onSort=function(){H.apply(this,Array.prototype.slice.apply(arguments)),P(this,U.sortOrder,this.options.sortOrder),P(this,U.sortName,this.options.sortName)},L.prototype.onPageNumber=function(){G.apply(this,Array.prototype.slice.apply(arguments)),P(this,U.pageNumber,this.options.pageNumber)},L.prototype.onPageListChange=function(){F.apply(this,Array.prototype.slice.apply(arguments)),P(this,U.pageList,this.options.pageSize)},L.prototype.onPageFirst=function(){E.apply(this,Array.prototype.slice.apply(arguments)),P(this,U.pageNumber,this.options.pageNumber)},L.prototype.onPagePre=function(){D.apply(this,Array.prototype.slice.apply(arguments)),P(this,U.pageNumber,this.options.pageNumber)},L.prototype.onPageNext=function(){C.apply(this,Array.prototype.slice.apply(arguments)),P(this,U.pageNumber,this.options.pageNumber)},L.prototype.onPageLast=function(){B.apply(this,Array.prototype.slice.apply(arguments)),P(this,U.pageNumber,this.options.pageNumber)},L.prototype.toggleColumn=function(){A.apply(this,Array.prototype.slice.apply(arguments));var a=[];V.each(this.columns,function(d,c){c.visible&&a.push(c.field)}),P(this,U.columns,JSON.stringify(a))},L.prototype.selectPage=function(b){z.apply(this,Array.prototype.slice.apply(arguments)),P(this,U.pageNumber,b)},L.prototype.onSearch=function(){var a=Array.prototype.slice.apply(arguments);y.apply(this,a),V(a[0].currentTarget).parent().hasClass("search")&&P(this,U.searchText,this.searchText)},L.prototype.getCookies=function(){var b=this,a={};return V.each(U,function(d,c){a[d]=O(b,b.options.cookieIdTable,c),"columns"===d&&(a[d]=JSON.parse(a[d]))}),a},L.prototype.deleteCookie=function(b){""!==b&&R()&&N(this,this.options.cookieIdTable,U[b])}}(jQuery);