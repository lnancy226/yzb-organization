(function(){if(typeof angular==="undefined"){return}angular.module("bsTable",[]).constant("uiBsTables",{bsTables:{}}).directive("bsTableControl",["uiBsTables",function(e){var a=".bootstrap-table";var g=".fixed-table-body";var f=".search input";var d=e.bsTables;function b(i){var h;$.each(d,function(k,j){if(!j.$el.closest(a).has(i).length){return}h=j;return true});return h}$(window).resize(function(){$.each(d,function(i,h){h.$el.bootstrapTable("resetView")})});function c(){var h=this;var i=h.$s.bsTableControl.state;h.$s.$applyAsync(function(){i.scroll=h.$el.bootstrapTable("getScrollPosition")})}$(document).on("post-header.bs.table",a+" table",function(i){var h=b(i.target);if(!h){return}h.$el.closest(a).find(g).on("scroll",c.bind(h))}).on("sort.bs.table",a+" table",function(i,l,j){var h=b(i.target);if(!h){return}var k=h.$s.bsTableControl.state;h.$s.$applyAsync(function(){k.sortName=l;k.sortOrder=j})}).on("page-change.bs.table",a+" table",function(k,j,i){var h=b(k.target);if(!h){return}var l=h.$s.bsTableControl.state;h.$s.$applyAsync(function(){l.pageNumber=j;l.pageSize=i})}).on("search.bs.table",a+" table",function(i,k){var h=b(i.target);if(!h){return}var j=h.$s.bsTableControl.state;h.$s.$applyAsync(function(){j.searchText=k})}).on("focus blur",a+" "+f,function(i){var h=b(i.target);if(!h){return}var j=h.$s.bsTableControl.state;h.$s.$applyAsync(function(){j.searchHasFocus=$(i.target).is(":focus")})});return{restrict:"EA",scope:{bsTableControl:"="},link:function(h,j){var i=d[h.$id]={$s:h,$el:j};h.instantiated=false;h.$watch("bsTableControl.options",function(k){if(!k){k=h.bsTableControl.options={}}var l=h.bsTableControl.state||{};if(h.instantiated){j.bootstrapTable("destroy")}j.bootstrapTable(angular.extend(angular.copy(k),l));h.instantiated=true;if("scroll" in l){j.bootstrapTable("scrollTo",l.scroll)}if("searchHasFocus" in l){j.closest(a).find(f).focus()}},true);h.$watch("bsTableControl.state",function(k){if(!k){k=h.bsTableControl.state={}}j.trigger("directive-updated.bs.table",[k])},true);h.$on("$destroy",function(){delete d[h.$id]})}}}])})();