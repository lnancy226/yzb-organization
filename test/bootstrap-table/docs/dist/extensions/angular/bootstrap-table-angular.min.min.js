(function(){if(typeof angular==="undefined"){return}angular.module("bsTable",[]).constant("uiBsTables",{bsTables:{}}).directive("bsTableControl",["uiBsTables",function(l){var i=".bootstrap-table";var j=".fixed-table-body";var k=".search input";var m=l.bsTables;function h(a){var b;$.each(m,function(c,d){if(!d.$el.closest(i).has(a).length){return}b=d;return true});return b}$(window).resize(function(){$.each(m,function(a,b){b.$el.bootstrapTable("resetView")})});function n(){var b=this;var a=b.$s.bsTableControl.state;b.$s.$applyAsync(function(){a.scroll=b.$el.bootstrapTable("getScrollPosition")})}$(document).on("post-header.bs.table",i+" table",function(a){var b=h(a.target);if(!b){return}b.$el.closest(i).find(j).on("scroll",n.bind(b))}).on("sort.bs.table",i+" table",function(d,a,c){var e=h(d.target);if(!e){return}var b=e.$s.bsTableControl.state;e.$s.$applyAsync(function(){b.sortName=a;b.sortOrder=c})}).on("page-change.bs.table",i+" table",function(b,c,d){var e=h(b.target);if(!e){return}var a=e.$s.bsTableControl.state;e.$s.$applyAsync(function(){a.pageNumber=c;a.pageSize=d})}).on("search.bs.table",i+" table",function(c,a){var d=h(c.target);if(!d){return}var b=d.$s.bsTableControl.state;d.$s.$applyAsync(function(){b.searchText=a})}).on("focus blur",i+" "+k,function(b){var c=h(b.target);if(!c){return}var a=c.$s.bsTableControl.state;c.$s.$applyAsync(function(){a.searchHasFocus=$(b.target).is(":focus")})});return{restrict:"EA",scope:{bsTableControl:"="},link:function(c,a){var b=m[c.$id]={$s:c,$el:a};c.instantiated=false;c.$watch("bsTableControl.options",function(e){if(!e){e=c.bsTableControl.options={}}var d=c.bsTableControl.state||{};if(c.instantiated){a.bootstrapTable("destroy")}a.bootstrapTable(angular.extend(angular.copy(e),d));c.instantiated=true;if("scroll" in d){a.bootstrapTable("scrollTo",d.scroll)}if("searchHasFocus" in d){a.closest(i).find(k).focus()}},true);c.$watch("bsTableControl.state",function(d){if(!d){d=c.bsTableControl.state={}}a.trigger("directive-updated.bs.table",[d])},true);c.$on("$destroy",function(){delete m[c.$id]})}}}])})();