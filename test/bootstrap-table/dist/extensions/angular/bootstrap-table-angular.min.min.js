!function(){"undefined"!=typeof angular&&angular.module("bsTable",[]).constant("uiBsTables",{bsTables:{}}).directive("bsTableControl",["uiBsTables",function(i){function h(d){var c;return $.each(j,function(b,a){return a.$el.closest(m).has(d).length?(c=a,!0):void 0}),c}function n(){var d=this,c=d.$s.bsTableControl.state;d.$s.$applyAsync(function(){c.scroll=d.$el.bootstrapTable("getScrollPosition")})}var m=".bootstrap-table",l=".fixed-table-body",k=".search input",j=i.bsTables;return $(window).resize(function(){$.each(j,function(d,c){c.$el.bootstrapTable("resetView")})}),$(document).on("post-header.bs.table",m+" table",function(b){var c=h(b.target);c&&c.$el.closest(m).find(l).on("scroll",n.bind(c))}).on("sort.bs.table",m+" table",function(b,q,p){var o=h(b.target);if(o){var g=o.$s.bsTableControl.state;o.$s.$applyAsync(function(){g.sortName=q,g.sortOrder=p})}}).on("page-change.bs.table",m+" table",function(b,q,p){var o=h(b.target);if(o){var g=o.$s.bsTableControl.state;o.$s.$applyAsync(function(){g.pageNumber=q,g.pageSize=p})}}).on("search.bs.table",m+" table",function(b,o){var g=h(b.target);if(g){var f=g.$s.bsTableControl.state;g.$s.$applyAsync(function(){f.searchText=o})}}).on("focus blur",m+" "+k,function(b){var f=h(b.target);if(f){var e=f.$s.bsTableControl.state;f.$s.$applyAsync(function(){e.searchHasFocus=$(b.target).is(":focus")})}}),{restrict:"EA",scope:{bsTableControl:"="},link:function(d,c){j[d.$id]={$s:d,$el:c};d.instantiated=!1,d.$watch("bsTableControl.options",function(b){b||(b=d.bsTableControl.options={});var a=d.bsTableControl.state||{};d.instantiated&&c.bootstrapTable("destroy"),c.bootstrapTable(angular.extend(angular.copy(b),a)),d.instantiated=!0,"scroll" in a&&c.bootstrapTable("scrollTo",a.scroll),"searchHasFocus" in a&&c.closest(m).find(k).focus()},!0),d.$watch("bsTableControl.state",function(a){a||(a=d.bsTableControl.state={}),c.trigger("directive-updated.bs.table",[a])},!0),d.$on("$destroy",function(){delete j[d.$id]})}}}])}();